<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>RelEng 2014</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="deck.js-latest/core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="deck.js-latest/extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="deck.js-latest/extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="deck.js-latest/extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="deck.js-latest/extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="deck.js-latest/extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="deck.js-latest/themes/style/swiss.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="deck.js-latest/themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="deck.js-latest/core/print.css">

  <!-- Required Modernizr file -->
  <script src="deck.js-latest/modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    <section class="slide">
        <div class="vcenter">
          <h1>RelEng 2014</h1>
          <p>Where are we? Where are we going?</p>
      </div>
    </section>

    <section class="slide">
      <h2>Retrospective</h2>
      <p>
      A look at how far we've come in a year.
      </p>
      <table width="100%">
          <thead style="text-align: left"><th></th><th>2013</th><th>2014</th></thead>
          <tr class="slide"><td># of checkins per month</td><td>~6,000 (apr)</td><td>~8,000 (mar) (+33%)</td></tr>
          <tr class="slide"><td>CPU hours per push (m-c)</td><td>295 (apr)</td><td>325 (apr) (+10%)</td></tr>
          <tr class="slide"><td>Jobs per month</td><td>1,219,428 (may)</td><td>1,578,356 (mar) (+29%)</td></tr>
          <tr class="slide"><td>AWS spend</td><td>$78,156.42 (apr)</td><td>$31,219.94 (apr so far!) (- ~50%)</td></tr>
      </table>
      </p>
    </section>

    <section class="slide">
        <h2>Highlights</h2>
        <ul>
            <li class="slide">
                <a href="http://armenzg.blogspot.ca/2014/04/kiss-our-old-mac-mini-test-pool-goodbye.html">RIP Rev3 minis</a>
                <img src="minis.png" />
                <img src="tumblr_mfvbw3wM811s1kqrno1_500.gif" />
            </li>
            <li class="slide"><a href="http://armenzg.blogspot.ca/2014/04/mozillas-recent-ci-improvements-saves.html">Cut our AWS spend by over 75%</a> by using spot instances and local instance storage.</li>
            <li class="slide">
                Enabled Balrog in production
                <img src="Balrog_-_FOT.png" />
            </li>
        </ul>
    </section>

    <section class="slide">
        <h2>MOAR Highlights</h2>
        <div class="slide">
            <img src="49065812.jpg" />
            <ul>
                <li>Firefox builds</li>
                <li>L10n repacks</li>
                <li>VCS sync</li>
                <li>All the tests!?</li>
            </ul>
        </div>
        <ul>
            <li class="slide"><a href"http://atlee.ca/blog/posts/initial-jacuzzi-results.html">Jacuzzis</a></li>
            <li class="slide"><a href="http://atlee.ca/blog/posts/blobber-is-live.html">Blobber</a></li>
            <li class="slide"><a href="http://johnzeller.com/blog/2014/03/12/triggering-of-arbitrary-buildstests-is-now-possible/">triggering arbitrary builds</a> via buildapi</li>
            <li class="slide">S3 backed compiler cache for linux and windows</li>
            <li class="slide">Emulator B2G tests IN THE CLOUD</li>
            <li class="slide">Presented at <a href="http://relengofthenerds.blogspot.com/2014/03/eclipsecon-2014-trip-report.html">EclipseCon</a>  and <a href="http://armenzg.blogspot.ca/2014/02/mozillas-hybrid-continuous-integration.html">RELENG 2014</a></li>
            <li class="slide">and many more</li>
        </ul>
        <div class="slide"><small>(<a href="planet.mozilla.org/releng/">Planet RelEng</a> is a <strong>great</strong> resource for this! Keep the blog posts coming!)</small></div>
    </section>

    <section class="slide" id="branches">
        <h2>Branches</h2>
        <div>
            <p>
            Last year we had 34 active branches:
            <span class="removed_branch">alder</span> ash birch build-system cedar cypress date <span class="removed_branch">devtools</span> elm fig fx-team <span class="removed_branch">gaia-master</span> graphics gum holly <span class="removed_branch">ionmonkey</span> <span class="removed_branch">jaegermonkey</span> jamun larch maple mozilla-aurora mozilla-b2g18 <span class="removed_branch">mozilla-b2g18_v1_0_1</span> mozilla-beta mozilla-central <span class="removed_branch">mozilla-esr17</span> mozilla-inbound mozilla-release oak <span class="removed_branch">pine</span> <span class="removed_branch">profiling</span> services-central try ux
            </p>
        </div>
        <div class="slide" id="showbranchchanges">
            <p>This year we have 32!
            ash <span class="added_branch">b2g-inbound</span> birch build-system cedar cypress date elm fig fx-team graphics gum holly jamun larch maple mozilla-aurora mozilla-b2g18 <span class="added_branch">mozilla-b2g18_v1_1_0_hd</span> <span class="added_branch">mozilla-b2g26_v1_2</span> <span class="added_branch">mozilla-b2g28_v1_3</span> <span class="added_branch">mozilla-b2g28_v1_3t</span> <span class="added_branch">mozilla-b2g30_v1_4</span> mozilla-beta mozilla-central <span class="added_branch">mozilla-esr24</span> mozilla-inbound mozilla-release oak services-central try ux
            </p>
        </div>
    </section>

    <section class="slide">
        <h2>Releases</h2>
        <p class="slide">Two years ago we were releasing Firefox 3.6.28 (!!) and Firefox 11.</p>
        <p class="slide">
            <img src="tumblr_lz4u84XJPc1qfu5wgo1_1280.jpg" />
            We started using <a href="https://ship-it.mozilla.org/releases.html">ship-it</a> January 2013!
            We've done 310 releases with it since then. 241 releases in the past 12 months, not including B2G releases. We've done 67 releases in 2014 alone.
            In December, <a href="http://oduinn.com/blog/2013/12/29/mitchell-baker-and-firefox-27-0-beta2/">Mitchell was able to do a release</a> for the first time in 15 years.

            This is a testament to all our hard work building solid automation.
        </p>
    </section>

    <section class="slide">
        <h2>Themes for 2014</h2>
        <div class="slide">
            <h3>Scaling more (and smarter)</h3>
            <ul>
                <li>Cost efficiency: spot nodes, instance storage, multiplexing, and more!</li>
                <li>Reducing per-push load</li>
                <li>Better tools for bisecting (buildapi!)</li>
            </ul>
        </div>
    </section>

    <section class="slide" id="developers">
        <div>
            <h3 id="embed">Focus on developers!</h3>
            <div class="slide">
                Making great self-service tools, making our infrastructure more accessible:
                <ul>
                    <li>Slave loan tool</li>
                    <li>Publishing AMIs, VM images, Docker containers, etc.</li>
                    <li>self-serve scheduling</li>
                    <li>autoland (mark IV)</li>
                    <li>Balrog</li>
                </ul>
            </div>
        </div>
        <h3 class="slide">What else can we do to be a <a href="http://oduinn.com/blog/2013/06/26/release-engineering-as-a-force-multiplier-at-google-techtalks/">force multiplier?</a></h3>
    </section>

    <section class="slide">
        <h1>(Insightful closing thoughts)</h1>
    </section>

    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <div style="position:absolute; bottom:10px">
      <pre style="font-size: 15%; border:0;">
                     ,@;@,
        ,@;@;@;@;@;@/ )@;@;
      ,;@;@;@;@;@;@|_/@' e\
     (|@;@:@\@;@;@;@:@(    \
       '@;@;@|@;@;@;@;'`"--'
        '@;@;/;@;/;@;' 
         ) //   | ||
         \ \\   | ||
          \ \\  ) \\ 
           `"`  `"``
      </pre>
    </div>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>


<!-- Required JS files. -->
<script src="deck.js-latest/jquery.min.js"></script>
<script src="deck.js-latest/core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="deck.js-latest/extensions/menu/deck.menu.js"></script>
<script src="deck.js-latest/extensions/goto/deck.goto.js"></script>
<script src="deck.js-latest/extensions/status/deck.status.js"></script>
<script src="deck.js-latest/extensions/navigation/deck.navigation.js"></script>
<script src="deck.js-latest/extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
    $(document).bind("deck.change", function(event, from, to) {
        var $slide = $.deck('getSlide', to);
        if ($slide.attr('id') == 'developers') {
            $("#embed").after("<iframe width=\"420\" height=\"315\" src=\"https://www.youtube.com/embed/KMU0tzLwhbE?rel=0&autoplay=1\" frameborder=\"0\" allowfullscreen></iframe>");
        }

        if ($slide.attr('id') == 'showbranchchanges') {
            $(".removed_branch").css("text-decoration", "line-through");
            $(".removed_branch").css("color", "red");
            $(".added_branch").css("color", "green");
        }
    });
  });
</script>
</body>
</html>
